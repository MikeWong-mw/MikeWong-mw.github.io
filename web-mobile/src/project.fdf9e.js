require=function a(r,n,h){function o(i,t){if(!n[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return o(e||t)},s,s.exports,a,r,n,h)}return n[i].exports}for(var d="function"==typeof require&&require,t=0;t<h.length;t++)o(h[t]);return o}({"Physics-bound":[function(t,e,i){"use strict";cc._RF.push(e,"fed2ezMzqlALKKTUjq2JG4F","Physics-bound"),cc.Class({extends:cc.Component,properties:{size:cc.size(0,0)},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit,cc.director.getPhysicsManager().debugDrawFlags=1;var t=this.size.width||this.node.width,e=this.size.height||this.node.height;console.log("width: "+t+" height: "+e);var i=new cc.Node;i.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this._addBound(i,0,e/2,t,20),this._addBound(i,0,-e/2,t,20),this._addBound(i,-t/2,0,20,e),this._addBound(i,t/2,0,20,e),i.parent=this.node},_addBound:function(t,e,i,c,s){console.log("add bound");var a=t.addComponent(cc.PhysicsBoxCollider);a.offset.x=e,a.offset.y=i,a.size.width=c,a.size.height=s}}),cc._RF.pop()},{}],"ray-cast-reflection":[function(t,e,i){"use strict";cc._RF.push(e,"3724ceFPBxItZWFlXSAAmgh","ray-cast-reflection"),cc.Class({extends:cc.Component,properties:{radius:750},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit,cc.director.getPhysicsManager().debugDrawFlags=1,this.ctx=this.getComponent(cc.Graphics),this.angle=0,this.center=cc.v2(cc.winSize.width/2,cc.winSize.height/2)},update:function(t){this.angle+=Math.PI/20*t,this.ctx.clear();var e=this.center;this.drawCircle(e);var i=cc.v2(Math.cos(this.angle),Math.sin(this.angle)).mulSelf(this.radius).addSelf(this.center);this.remainLength=this.radius,this.rayCast(e,i)},drawCircle:function(t){this.ctx.circle(t.x,t.y,5),this.ctx.fill()},rayCast:function(t,e){var i=cc.director.getPhysicsManager().rayCast(t,e)[0];if(i&&(e=i.point,this.ctx.circle(e.x,e.y,5),this.ctx.fill()),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke(),i&&(this.remainLength=this.remainLength-e.sub(t).mag(),cc.log("remain length: "+this.remainLength),!(this.remainLength<1))){var c=e.sub(this.center);t=e,e=i.normal.mul(this.remainLength).add(t),this.rayCast(t,e),this.rayCastReflect(i.point,c,i.normal)}},rayCastReflect:function(t,e,i){var c=cc.pDot(i,e),s=e.sub(cc.pMult(cc.pMult(i,c),2)),a=cc.Vec2();a=s.add(t),this.drawCircle(a),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(a.x,a.y),this.ctx.stroke()}}),cc._RF.pop()},{}]},{},["Physics-bound","ray-cast-reflection"]);